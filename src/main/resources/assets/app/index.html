<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Chronos</title>

    <!-- CSS -->
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.1/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Raleway+Dots" type='text/css'>
    <link rel="stylesheet" href="//jquery.bassistance.de/tooltip/jquery.tooltip.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.13.3/css/theme.bootstrap.css">
    <link rel="stylesheet" href="static/css/chronos.css">

    <!-- Scripts -->
    <script src="//code.jquery.com/jquery.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.0.1/js/bootstrap.min.js"></script>
    <script src="//jquery.bassistance.de/tooltip/jquery.tooltip.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.13.3/jquery.tablesorter.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.13.3/jquery.tablesorter.widgets.min.js"></script>
    <script src="static/js/chronos_jquery.js"></script>

  </head>
  <body>
    <!-- Navbar -->
    <nav class="navbar navbar-default" role="navigation">
      <div class="collapse navbar-collapse navbar-ex1-collapse">
        <ul class="nav navbar-nav">
          <li><a href="/" class="navbar-text" style="font-size: 64px; font-family: 'Raleway Dots', cursive;">Chronos </a></li>
          <li style="margin-top: 19px;"><p class=navbar-text><span id="totalJobs" class="label label-primary" style="font-size:20px">Loading...</span></p></li>
          <li style="margin-top: 19px;"><p class=navbar-text><span id="failedJobs" class="label label-danger" style="font-size:20px"></span></p></li>
        </ul>
      </div>
    </nav>

    <!-- HTML Table -->
    <table id="jobtable" class="table tablesorter" style="width:100%">
      <thead>
        <tr>
          <th>Name</th>
          <th>Owner</th>
          <th>Disabled</th>
          <th>Status</th>
          <th>Successes</th>
          <th>Errors</th>
          <th>Last Success</th>
          <th>Last Error</th>
          <th>99% Time</th>
          <th>95% Time</th>
          <th>75% Time</th>
          <th>50% Time</th>
        </tr>
      </thead>
      <tbody id="jobData">
        <!-- Populated by javascript -->
      </tbody>
    </table>

    <!-- Job modal -->
    <div class="modal fade" id="jobModal" role="dialog">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h4 class="modal-title" id="jobModalLabel">Create new job</h4>
          </div>
          <form class="form-horizontal" id="jobForm" role="form">
            <div class="modal-body">
              <div class="form-group">
                <input type="hidden" class="form-control" name="modificationType" id="modificationType" value="">
              </div>
              <div class="form-group">
                <label for="nameInput">Name</label>
                <input type="text" class="form-control" name="nameInput" id="nameInput" placeholder="job_name" value="">
              </div>
              <div class="form-group">
                <label for="commandInput">Command</label>
                <textarea class="form-control" name="commandInput" id="commandInput" rows="3" cols="80"></textarea>
              </div>
              <div class="form-group">
                <label for="ownerInput">Owner</label>
                <input type="text" class="form-control" name="ownerInput" id="ownerInput" placeholder="job_owner" value="">
              </div>
              <div class="form-group">
                <label for="parentsInput">Parents</label>
                <input type="text" class="form-control" name="parentsInput" id="parentsInput" placeholder="parent_job1, parent_job2, ...">
              </div>
              <div class="form-group">
                <div class="col-xs-2">
                  <label for="repeatsInput">Repeats</label>
                  <input type="text" class="form-control" name="repeatsInput" id="repeatsInput" placeholder="âˆž" value="">
                </div>
                <div class="col-xs-4">
                  <label for="dateInput">Launch Day</label>
                  <input type="date" class="form-control" name="dateInput" id="dateInput" min="2013-01-01" placeholder="YYYY-MM-DD" value="">
                </div>
                <div class="col-xs-3">
                  <label for="timeInput">Launch Time</label>
                  <input type="text" class="form-control" name="timeInput" id="timeInput" placeholder="HH:MM:SS" value="">
                </div>
                <div class="col-xs-3">
                  <label for="periodInput">Period</label>
                  <input type="text" class="form-control" name="periodInput" id="periodInput" placeholder="T15M" value="T15M">
                </div>
              </div>
              <div class="form-group">
                <div class="col-xs-2">
                  <label for="cpusInput">CPUs</label>
                  <input type="text" class="form-control" name="cpusInput" id="cpusInput" placeholder="1.0" value="">
                </div>
                <div class="col-xs-4">
                  <label for="memInput">Memory (MiB)</label>
                    <input type="text" class="form-control" name="memInput" id="memInput" placeholder="1024" value="">
                </div>
                <div class="col-xs-3">
                  <label for="diskInput">Disk (MiB)</label>
                  <input type="text" class="form-control" name="diskInput" id="diskInput" placeholder="10240" value="">
                </div>
              </div>
              <div class="form-group">
                <label><input type="radio" name="statusInput" id="statusInputEnabled" value="enabled" checked> Enable Job</label><br>
                <label><input type="radio" name="statusInput" id="statusInputDisabled" value="disabled"> Disable Job</label>
              </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Log modal -->
    <div class="modal fade" id="logModal" role="dialog">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h4 class="modal-title" id="logModalLabel">Job Log details</h4>
          </div>
          <div class="modal-body">
            <ul class="nav nav-tabs">
              <li class="active"><a href="#stdout" data-toggle="tab">Stdout</a></li>
              <li><a href="#stderr" data-toggle="tab">Stderr</a></li>
            </ul>
          </div>
          <div class="tab-content">
            <div class="tab-pane fade active in" id="stdout">
              <textarea id="stdoutTextarea">Loading standard out...</textarea>
            </div>
            <div class="tab-pane fade" id="stderr">
              <textarea id="stderrTextarea">Loading standard error...</textarea>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
